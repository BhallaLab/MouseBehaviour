EESchema Schematic File Version 4
LIBS:Schematic-cache
EELAYER 29 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title "Shocking Protocol"
Date "2019-06-30"
Rev "0.1.0"
Comp "Bhalla Lab, NCBS Bangalore"
Comment1 "Shocking protocol for Hrishikesh"
Comment2 ""
Comment3 "Dilawar Singh, 2019"
Comment4 ""
$EndDescr
$Comp
L MCU_Module:Arduino_UNO_R3 ArduinoUno1
U 1 1 5D1837FC
P 4900 2950
F 0 "ArduinoUno1" H 4900 4131 50  0000 C CNB
F 1 "Arduino_UNO_R3" H 4900 4040 50  0000 C CNN
F 2 "Module:Arduino_UNO_R3" H 5050 1900 50  0001 L CNN
F 3 "https://www.arduino.cc/en/Main/arduinoBoardUno" H 4700 4000 50  0001 C CNN
	1    4900 2950
	1    0    0    -1  
$EndComp
$Comp
L Schematic-rescue:RotaryEncoder-OrangeRotaryEncoder-Schematic-rescue RotaryEncoder1
U 1 1 5D191567
P 2750 2450
F 0 "RotaryEncoder1" H 2750 2450 50  0001 C CNN
F 1 "RotaryEncoder" H 3468 2450 0   0000 L CNN
F 2 "" H 2550 2600 50  0001 C CNN
F 3 "https://robu.in/wp-content/uploads/2016/02/User-Manual-Orange-3806-OPTI-400-AB-OC-Rotary-Encoder-ROBU.IN_.pdf" H 2550 2600 50  0001 C CNN
	1    2750 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 2250 4000 2250
Wire Wire Line
	4000 2250 4000 2550
Wire Wire Line
	4000 2550 4400 2550
Wire Wire Line
	3100 2350 3900 2350
Wire Wire Line
	3900 2350 3900 2650
Wire Wire Line
	3900 2650 4400 2650
$Comp
L Device:Speaker LS1
U 1 1 5D18ABCB
P 6925 2150
F 0 "LS1" H 7095 2146 50  0000 L CNN
F 1 "Speaker" H 7095 2055 50  0000 L CNN
F 2 "" H 6925 1950 50  0001 C CNN
F 3 "~" H 6915 2100 50  0001 C CNN
	1    6925 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D1
U 1 1 5D18B2CE
P 6875 2700
F 0 "D1" H 6868 2445 50  0000 C CNN
F 1 "LED" H 6868 2536 50  0000 C CNN
F 2 "" H 6875 2700 50  0001 C CNN
F 3 "~" H 6875 2700 50  0001 C CNN
	1    6875 2700
	-1   0    0    1   
$EndComp
$Comp
L Isolator:4N35 U1
U 1 1 5D188B23
P 7025 3175
F 0 "U1" H 7025 3500 50  0000 C CNN
F 1 "4N35" H 7025 3409 50  0000 C CNN
F 2 "Package_DIP:DIP-6_W7.62mm" H 6825 2975 50  0001 L CIN
F 3 "https://www.vishay.com/docs/81181/4n35.pdf" H 7025 3175 50  0001 L CNN
	1    7025 3175
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 5D189E2E
P 6600 3050
F 0 "#PWR0101" H 6600 2800 50  0001 C CNN
F 1 "GND" H 6605 2877 50  0000 C CNN
F 2 "" H 6600 3050 50  0001 C CNN
F 3 "" H 6600 3050 50  0001 C CNN
	1    6600 3050
	-1   0    0    1   
$EndComp
Wire Wire Line
	6725 3075 6600 3075
Wire Wire Line
	6600 3075 6600 3050
Text GLabel 4075 3150 0    50   Input ~ 0
TONE
Wire Wire Line
	4075 3150 4400 3150
Text GLabel 4075 3250 0    50   Input ~ 0
LED
Wire Wire Line
	4075 3250 4400 3250
Text GLabel 4075 3350 0    50   Input ~ 0
CAM
Wire Wire Line
	4075 3350 4400 3350
Text GLabel 4075 3450 0    50   Input ~ 0
PUFF
Wire Wire Line
	4075 3450 4400 3450
Text GLabel 4075 3650 0    50   Input ~ 0
IMAGING_TRIG
Wire Wire Line
	4075 3650 4400 3650
Text GLabel 6575 2150 0    50   Input ~ 0
TONE
Wire Wire Line
	6575 2150 6725 2150
Text GLabel 6575 2700 0    50   Input ~ 0
LED
Wire Wire Line
	6575 2700 6725 2700
Text GLabel 6575 3275 0    50   Input ~ 0
PUFF
Wire Wire Line
	6575 3275 6725 3275
$Comp
L power:GND #PWR0102
U 1 1 5D18C223
P 7425 2775
F 0 "#PWR0102" H 7425 2525 50  0001 C CNN
F 1 "GND" H 7430 2602 50  0000 C CNN
F 2 "" H 7425 2775 50  0001 C CNN
F 3 "" H 7425 2775 50  0001 C CNN
	1    7425 2775
	1    0    0    -1  
$EndComp
Wire Wire Line
	7025 2700 7425 2700
Wire Wire Line
	7425 2700 7425 2775
$Comp
L power:GND #PWR0103
U 1 1 5D18CB7D
P 6650 2400
F 0 "#PWR0103" H 6650 2150 50  0001 C CNN
F 1 "GND" H 6655 2227 50  0000 C CNN
F 2 "" H 6650 2400 50  0001 C CNN
F 3 "" H 6650 2400 50  0001 C CNN
	1    6650 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6725 2250 6650 2250
Wire Wire Line
	6650 2250 6650 2400
Text Notes 7900 3150 2    50   ~ 0
To solenoid.
Text Notes 2350 2175 0    50   ~ 0
1200 counts per cycle.
$Comp
L power:GND #PWR0104
U 1 1 5D18F1BB
P 3400 2750
F 0 "#PWR0104" H 3400 2500 50  0001 C CNN
F 1 "GND" H 3405 2577 50  0000 C CNN
F 2 "" H 3400 2750 50  0001 C CNN
F 3 "" H 3400 2750 50  0001 C CNN
	1    3400 2750
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR0105
U 1 1 5D18F987
P 3475 2575
F 0 "#PWR0105" H 3475 2425 50  0001 C CNN
F 1 "VCC" H 3492 2748 50  0000 C CNN
F 2 "" H 3475 2575 50  0001 C CNN
F 3 "" H 3475 2575 50  0001 C CNN
	1    3475 2575
	1    0    0    -1  
$EndComp
Wire Wire Line
	3475 2500 3475 2450
Wire Wire Line
	3475 2450 3100 2450
Wire Wire Line
	3100 2550 3400 2550
Wire Wire Line
	3400 2550 3400 2750
Text Notes 3400 5800 0    50   ~ 0
CH1=CH2 \nCH3=CH4=~CH1\nImplemented in Arduino.
Wire Wire Line
	3575 2750 3575 3325
Wire Wire Line
	3575 3325 3000 3325
Wire Wire Line
	3000 3325 3000 5050
Wire Wire Line
	3575 2750 4400 2750
Wire Wire Line
	3650 2950 3650 3175
Wire Wire Line
	3650 2950 4400 2950
Wire Wire Line
	3500 2850 3500 4250
Wire Wire Line
	3500 2850 4400 2850
$Sheet
S 5250 4900 850  525 
U 5D191D2C
F0 "StimIsolator" 50
F1 "StimIsolator.sch" 50
F2 "INPUT" I L 5250 5000 50 
F3 "OUT+" O L 5250 5275 50 
F4 "OUT-" O L 5250 5375 50 
$EndSheet
Wire Wire Line
	4400 3050 4175 3050
Wire Wire Line
	4175 3050 4175 4175
Wire Wire Line
	5600 3250 5400 3250
$Comp
L Schematic-rescue:ShockPad-BhallaLabComponents-Schematic-rescue ShockPad1
U 1 1 5D197A8E
P 7525 3775
F 0 "ShockPad1" H 7875 3625 50  0001 C CNN
F 1 "ShockPad" H 6757 3555 50  0000 C TNN
F 2 "" H 7875 3625 50  0001 C CNN
F 3 "" H 7875 3625 50  0001 C CNN
	1    7525 3775
	1    0    0    -1  
$EndComp
Text GLabel 6575 3625 0    50   Input ~ 0
PAD+
Text GLabel 6575 3975 0    50   Input ~ 0
PAD-
Wire Wire Line
	6575 3625 7075 3625
Wire Wire Line
	6575 3975 7075 3975
Wire Wire Line
	4175 4175 5100 4175
Wire Wire Line
	5600 4350 5600 3250
$Comp
L Device:R RA3
U 1 1 5D1B22CC
P 5850 3425
F 0 "RA3" V 5920 3471 50  0000 L CNN
F 1 "1.2 M" H 5920 3380 50  0000 R TNN
F 2 "" V 5780 3425 50  0001 C CNN
F 3 "~" H 5850 3425 50  0001 C CNN
	1    5850 3425
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR0106
U 1 1 5D1B2935
P 5850 3650
F 0 "#PWR0106" H 5850 3400 50  0001 C CNN
F 1 "GND" H 5855 3477 50  0000 C CNN
F 2 "" H 5850 3650 50  0001 C CNN
F 3 "" H 5850 3650 50  0001 C CNN
	1    5850 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	5850 3575 5850 3600
Wire Wire Line
	5850 3275 5850 3250
Wire Wire Line
	5850 3250 5600 3250
Connection ~ 5600 3250
Text Notes 3700 4250 0    50   ~ 0
D5, PWM, 20 kHz 
Wire Wire Line
	3000 5050 3400 5050
$Sheet
S 3400 4500 1125 950 
U 5D1ADABF
F0 "SSR 4Channel" 50
F1 "SSR_4CH.sch" 50
F2 "DC+" I L 3400 4700 50 
F3 "DC-" I L 3400 4825 50 
F4 "CH1" I L 3400 5050 50 
F5 "CH2" I L 3400 5150 50 
F6 "A1" O R 4525 4600 50 
F7 "B1" O R 4525 4675 50 
F8 "B2" O R 4525 4850 50 
F9 "A2" O R 4525 4775 50 
F10 "CH3" I L 3400 5275 50 
F11 "CH4" I L 3400 5375 50 
F12 "A3" O R 4525 5075 50 
F13 "B3" O R 4525 5150 50 
F14 "A4" O R 4525 5275 50 
F15 "B4" O R 4525 5350 50 
$EndSheet
Wire Wire Line
	3500 4250 4625 4250
Wire Wire Line
	4625 4250 4625 4600
Wire Wire Line
	4625 4600 4525 4600
Wire Wire Line
	5025 4350 5600 4350
Wire Wire Line
	5025 4775 5025 4350
Wire Wire Line
	3650 3175 2925 3175
Text GLabel 4650 4675 2    50   Input ~ 0
PAD+
Wire Wire Line
	4525 4675 4650 4675
Wire Wire Line
	3000 5050 3000 5150
Wire Wire Line
	3000 5150 3400 5150
Connection ~ 3000 5050
Wire Wire Line
	2925 5275 3000 5275
Wire Wire Line
	2925 3175 2925 5275
Wire Wire Line
	3000 5275 3000 5375
Wire Wire Line
	3000 5375 3400 5375
Connection ~ 3000 5275
Wire Wire Line
	3000 5275 3400 5275
Wire Wire Line
	5025 4775 4525 4775
Text GLabel 4650 4850 2    50   Input ~ 0
PAD-
Wire Wire Line
	4525 4850 4650 4850
Text GLabel 4650 5150 2    50   Input ~ 0
PAD+
Text GLabel 4650 5350 2    50   Input ~ 0
PAD-
Wire Wire Line
	4525 5150 4650 5150
Wire Wire Line
	4525 5350 4650 5350
Wire Wire Line
	5100 4175 5100 5000
Wire Wire Line
	5250 5000 5100 5000
Wire Wire Line
	5250 5275 4975 5275
Wire Wire Line
	4975 5275 4975 5075
Wire Wire Line
	4975 5075 4525 5075
Wire Wire Line
	5250 5375 4925 5375
Wire Wire Line
	4925 5375 4925 5275
Wire Wire Line
	4925 5275 4525 5275
Text Notes 6275 5200 2    50   ~ 0
Not implemented.\nUsing as black-box.
Text Notes 8300 4275 2    50   ~ 0
Resistance of mouse's paw is of the order of 1M.\nThe value of R2 must be the same.
$Comp
L power:VCC #PWR0107
U 1 1 5D206B22
P 3200 4650
F 0 "#PWR0107" H 3200 4500 50  0001 C CNN
F 1 "VCC" H 3217 4823 50  0000 C CNN
F 2 "" H 3200 4650 50  0001 C CNN
F 3 "" H 3200 4650 50  0001 C CNN
	1    3200 4650
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0108
U 1 1 5D208D90
P 3225 4850
F 0 "#PWR0108" H 3225 4600 50  0001 C CNN
F 1 "GND" H 3230 4677 50  0000 C CNN
F 2 "" H 3225 4850 50  0001 C CNN
F 3 "" H 3225 4850 50  0001 C CNN
	1    3225 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 4825 3225 4825
Wire Wire Line
	3225 4825 3225 4850
Wire Wire Line
	3400 4700 3200 4700
Wire Wire Line
	3200 4700 3200 4650
$Comp
L Device:C CA3
U 1 1 5D1B6EF2
P 6100 3450
F 0 "CA3" H 6215 3496 50  0000 L CNN
F 1 "47nF" H 6215 3405 50  0000 L CNN
F 2 "" H 6138 3300 50  0001 C CNN
F 3 "~" H 6100 3450 50  0001 C CNN
	1    6100 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 3300 6100 3250
Wire Wire Line
	6100 3250 5850 3250
Connection ~ 5850 3250
Wire Wire Line
	6100 3600 5850 3600
Connection ~ 5850 3600
Wire Wire Line
	5850 3600 5850 3650
$EndSCHEMATC
